var mahasiswa = [

  {
    Nama: "Mhs 1",
    NIM: 535150078,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Baik",
      },
      {
        nama_MK: "K1",
        nilai: "Baik",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 2",
    NIM: 535150091,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Cukup",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 3",
    NIM: 535150091,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Kurang",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Cukup",
      },
    ],
    Rek: false,
  },
  {
    Nama: "Mhs 4",
    NIM: 535160026,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: false,
  },
  {
    Nama: "Mhs 5",
    NIM: 535160056,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 6",
    NIM: 535160105,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Cukup",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 7",
    NIM: 535170011,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Kurang",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Kurang",
      },
    ],
    Rek: false,
  },
  {
    Nama: "Mhs 8",
    NIM: 535170053,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Baik",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Cukup",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 9",
    NIM: 535170060,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Kurang",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 10",
    NIM: 535170061,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
      // {
      //   nama_MK: "Aljabar",
      //   nilai: 81,
      //   hasil: "Baik",
      // },
      // {
      //   nama_MK: "MetNum",
      //   nilai: 74,
      //   hasil: "Cukup",
      // },
      // {
      //   nama_MK: "Citra",
      //   nilai: 77,
      //   hasil: "Cukup",
      // },
      // {
      //   nama_MK: "SisDig",
      //   nilai: 87,
      //   hasil: "Baik",
      // },
      // {
      //   nama_MK: "Arsokom",
      //   nilai: 74,
      //   hasil: "Cukup",
      // },
    ],
    Rek: false,
  },
  {
    Nama: "Mhs 11",
    NIM: 535170078,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Kurang",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 12",
    NIM: 535170087,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Cukup",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: false,
  },
  {
    Nama: "Mhs 13",
    NIM: 535170088,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Kurang",
      },
      {
        nama_MK: "K1",
        nilai: "Kurang",
      },
      {
        nama_MK: "Citra",
        nilai: "Baik",
      },
    ],
    Rek: true,
  },
  {
    Nama: "Mhs 14",
    NIM: 535170090,
    matkul: [
      {
        nama_MK: "MD",
        nilai: "Baik",
      },
      {
        nama_MK: "K1",
        nilai: "Cukup",
      },
      {
        nama_MK: "Citra",
        nilai: "Kurang",
      },
    ],
    Rek: false,
  },

  // {
  //   Nama: "Mhs 14",
  //   NIM: 535170093,
  //   matkul: [
  //     {
  //       nama_MK: "MD",
  //       nilai: "Kurang",
  //     },
  //     {
  //       nama_MK: "K1",
  //       nilai: "Cukup",
  //     },
  //     {
  //       nama_MK: "Citra",
  //       nilai: "Cukup",
  //     },
  //   ],
  //   Rek: false,
  // },
];

var total = mahasiswa.length;
var TotalRek = 0;
var TotalMK = 0;
for (var a = 0; a < total; a++) {
  if (mahasiswa[a].Rek == true) {
    TotalRek = TotalRek + 1;
  } else {
    TotalMK = TotalMK + 1;
  }
}
var EntropyTotal = (-TotalMK / total) * Math.log2(TotalMK / total) + (-TotalRek / total) * Math.log2(TotalRek / total);

var data = [
  {
    matkul: [
      {
        total: 0, Rek: 0, MK: 0, entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
    ],
  },
  {
    matkul: [
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
    ],
  },
  {
    matkul: [
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
      {
        total: 0,
        Rek: 0,
        MK: 0,
        entropy: 0,
      },
    ],
  },
];

var matkulawal = "";
var c = 0;
for (var j = 0; j < 3; j++) {
  if (j == 0) {
    matkulawal = "MD";
  }
  if (j == 1) {
    matkulawal = "K1";
  }
  if (j == 2) {
    matkulawal = "Citra";
  }

  for (var b = 0; b < 14; b++) {
    for (var e = 0; e < 3; e++) {
      if (mahasiswa[b].matkul[e].nama_MK == matkulawal) {
        if (mahasiswa[b].matkul[e].hasil == "Kurang") {
          c = 0;
        }
        if (mahasiswa[b].matkul[e].hasil == "Cukup") {
          c = 1;
        }
        if (mahasiswa[b].matkul[e].hasil == "Baik") {
          c = 2;
        }

        data[j].matkul[c].total = data[j].matkul[c].total + 1;

        if (mahasiswa[b].Rek == true) {
          data[j].matkul[c].Rek = data[j].matkul[c].Rek + 1;
        }
        if (mahasiswa[b].Rek == false) {
          data[j].matkul[c].Rek = data[j].matkul[c].Rek + 1;
        }
      }
    }
  }

  for (var d = 0; d < 3; d++) {
    data[j].matkul[d].entropy = (-data[j].matkul[d].MK / data[j].matkul[d].total) * Math.log2(data[j].matkul[d].MK / data[j].matkul[d].total) + (-data[j].matkul[d].Rek / data[j].matkul[d].total) * Math.log2(data[j].matkul[d].Rek / data[j].matkul[d].total); 
    data[j].matkul[d].entropy = isNaN(data[j].matkul[d].entropy) ? 0 : data[j].matkul[d].entropy;
  }

  var Gain = [];
  for (var g = 0; g < 3; g++) {
    Gain[g] = EntropyTotal - ((data[g].matkul[0].total / total) * data[g].matkul[0].entropy + (data[g].matkul[1].total / total) * data[g].matkul[1].entropy + (data[g].matkul[2].total / total) * data[g].matkul[2].entropy);
  }
}
